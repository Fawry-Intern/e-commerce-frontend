<div class="sidebar">
    <div class="sidebar-header">
        <div class="logo-container">
            <i class="fas fa-truck"></i>
            <span>Delivery</span>
        </div>
    </div>

    <div class="sidebar-content">
        <ul class="nav-menu">
            <li class="nav-item nav-item-has-children">
                <a class="nav-link" (click)="navigateTo('/delivery/profile')" [class.active]="router.url.includes('/delivery/profile')">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                    <i class="fas fa-chevron-down dropdown-icon"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a (click)="navigateTo('/delivery/profile/view')">View Profile</a></li>
                    <li><a (click)="navigateTo('/delivery/profile/edit')">Edit Profile</a></li>
                </ul>
            </li>

            <li class="nav-item nav-item-has-children">
                <a class="nav-link" (click)="navigateTo('/delivery/notifications')" [class.active]="router.url.includes('/delivery/notifications')">
                    <i class="fas fa-bell"></i>
                    <span>Notifications</span>
                    <i class="fas fa-chevron-down dropdown-icon"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a (click)="navigateTo('/delivery/notifications/all')">All Notifications</a></li>
                    <li><a (click)="navigateTo('/delivery/notifications/unread')">Unread</a></li>
                </ul>
            </li>

            <li class="nav-item nav-item-has-children">
                <a class="nav-link" (click)="navigateTo('/delivery/orders')" [class.active]="router.url.includes('/delivery/orders')">
                    <i class="fas fa-box"></i>
                    <span>Orders</span>
                    <i class="fas fa-chevron-down dropdown-icon"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a (click)="navigateTo('/delivery/orders/pending')">Pending Orders</a></li>
                    <li><a (click)="navigateTo('/delivery/orders/active')">Active Orders</a></li>
                </ul>
            </li>

            <li class="nav-item nav-item-has-children">
                <a class="nav-link" (click)="navigateTo('/delivery/shipping')" [class.active]="router.url.includes('/delivery/shipping')">
                    <i class="fas fa-truck"></i>
                    <span>Shipping</span>
                    <i class="fas fa-chevron-down dropdown-icon"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a (click)="navigateTo('/delivery/shipping/active')">Active Shipments</a></li>
                    <li><a (click)="navigateTo('/delivery/shipping/history')">Shipping History</a></li>
                </ul>
            </li>

            <li class="nav-item nav-item-has-children">
                <a class="nav-link" (click)="navigateTo('/delivery/delivered')" [class.active]="router.url.includes('/delivery/delivered')">
                    <i class="fas fa-check-circle"></i>
                    <span>Delivered</span>
                    <i class="fas fa-chevron-down dropdown-icon"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a (click)="navigateTo('/delivery/delivered/today')">Today's Deliveries</a></li>
                    <li><a (click)="navigateTo('/delivery/delivered/history')">Delivery History</a></li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="sidebar-footer">
        <div class="user-info">
            <img [src]="userAvatar" alt="User" class="user-avatar" (error)="onImageError($event)">
            <div class="user-details">
                <span class="user-role">{{userRole}}</span>
            </div>
        </div>
        <a (click)="logout()" class="logout-link">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </a>
    </div>
</div>
